# CodeCommit에서 운영계 배포

개발기에서 테스트가 완료된 소스를 운영기에 반영하기 위해서 아래의 처리를 수행

## 1. 관리자는 master 브랜치에서 풀요청

- lgl-gms-webapi 리포지토리 선택
- 화면 우 상단의 master 브랜치가 선택된 상태에서 "풀요청 생성" 버튼을 클릭
- 대상 브랜치를 production으로, 소스 브랜치를 master로 선택하고 "비교" 버튼을 클릭
  ex) production << master
  - 좌측이 대상이고 우측이 소스이므로 방향에 유의하여 선택 필요
- 두 브랜치 사이의 충돌이 없으면 제목과 설명을 입력하고 "풀요청 생성"버튼을 클릭

## 2. 풀요청 승인 및 병합

- 관리자가 동일한 경우 승인 버튼이 생략되고 병합버튼만 표시
- 병합 버튼을 클릭하여 병합 처리

* production 병합 처리시 _소스 브랜치를 삭제하는 옶션은 절대 체크하지 않도록 주의_ 요망
  만약 체크하고 처리하면 master 브랜치를 삭제할 수도 있으므로 주의 필요
  (master 브랜치는 기본 브랜치이므로 실제 삭제는 안될 수 있지만 장담할 수 없음)
  게다가 로컬에 올린 브랜치를 master로 병합하는 경우는 소스 브랜치를 삭제하도록 하므로
  혼동하지 않도록 주의 필요

- 병합이 완료되면 운영계에 자동으로 빌드 및 배포처리가 수행

## 참고. production branch 생성하기

- lgl-gms-webapi 리포지토리를 선택 -> 좌측 메뉴의 브랜치 선택
  -> 화면 우 상단의 "브랜치생성" 버튼 클릭
- 브랜치 생성 팝업 화면이 표시되면 아래와 같이 입력하고 브랜치 생성 버튼을 클릭하면
  master 브랜치의 내용을 production으로 checkout하여 production 브랜치를 생성
  
  브랜치 이름 : production으로 입력
  다음으로부터의 브랜치 : master 브랜치를 선택
